
<!-- -var msg = dataObj--><!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Чат</title>
    <link href="style.css" rel="stylesheet">
    <!--link(rel='preconnect' href='https://fonts.gstatic.com')-->
    <!--link(rel='stylesheet' href='https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@1,300&display=swap')-->
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@300;400&amp;display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/handlebars@latest/dist/handlebars.js" type="text/javascript"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-app.js" type="text/javascript"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-auth.js" type="text/javascript"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-database.js" type="text/javascript"></script>
    <script src="https://www.gstatic.com/firebasejs/8.3.0/firebase-firestore.js" type="text/javascript"></script>
    <script src="https://vk.com/js/api/openapi.js" type="text/javascript"></script>
    <script src="js/index.js" type="module"></script>
    <script src="js/view.js" type="module"></script>
    <script src="js/controller.js" type="module"></script>
    <script src="js/model.js" type="module"></script>
  </head>
  <body>
    <main class="chat">
      <!--main.chat.overlay-->
      <div class="auth popup" data-action="true">
        <div class="popup__close js-close"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="17">
    <path fill="#FFF" fill-rule="evenodd" d="M16.414 2L15 .586.37 15.215l1.415 1.414L16.414 2z"/>
    <path fill="#FFF" fill-rule="evenodd" d="M.586 2L2 .586l14.629 14.629-1.414 1.414L.586 2z"/>
</svg>

        </div>
        <div class="auth__icon"><img src="img/logo.png"></div>
        <h1 class="popup__title">Авторизация</h1>
        <p class="popup__text">Введите пожалуйста своё фио и ник для дальнейшей авторизации</p>
        <form class="form" data-action="true">
          <div class="form__item">
            <input class="js-user-name" placeholder="Введите ФИО" data-error="введите ФИО">
          </div>
          <div class="form__item">
            <input class="js-user-nickName" placeholder="Введите свой ник" data-error="введите ник">
          </div>
          <div class="form__btn _center">
            <button class="btn _uppercase _mt-20 js-enter">войти</button>
          </div>
          <div class="form__btn _center">
            <button class="btn _wide-auto _uppercase _mt-20 js-auth-vk">
              войти через VK<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
    <path class="st0" d="M13.162 18.994c.609 0 .858-.406.851-.915-.031-1.917.714-2.949 2.059-1.604 1.488 1.488 1.796 2.519 3.603 2.519h3.2c.808 0 1.126-.26 1.126-.668 0-.863-1.421-2.386-2.625-3.504-1.686-1.565-1.765-1.602-.313-3.486 1.801-2.339 4.157-5.336 2.073-5.336h-3.981c-.772 0-.828.435-1.103 1.083-.995 2.347-2.886 5.387-3.604 4.922-.751-.485-.407-2.406-.35-5.261.015-.754.011-1.271-1.141-1.539-.629-.145-1.241-.205-1.809-.205-2.273 0-3.841.953-2.95 1.119 1.571.293 1.42 3.692 1.054 5.16-.638 2.556-3.036-2.024-4.035-4.305-.241-.548-.315-.974-1.175-.974h-3.255c-.492 0-.787.16-.787.516 0 .602 2.96 6.72 5.786 9.77 2.756 2.975 5.48 2.708 7.376 2.708z"  fill="white"/></svg>

            </button>
          </div>
          <div class="form__btn _center">
            <button class="btn _wide-auto _bg-white _uppercase _mt-15 js-auth-google">
              войти через google<svg width="2443" height="2500" viewBox="0 0 256 262" xmlns="http://www.w3.org/2000/svg" preserveAspectRatio="xMidYMid"><path d="M255.878 133.451c0-10.734-.871-18.567-2.756-26.69H130.55v48.448h71.947c-1.45 12.04-9.283 30.172-26.69 42.356l-.244 1.622 38.755 30.023 2.685.268c24.659-22.774 38.875-56.282 38.875-96.027" fill="#4285F4"/><path d="M130.55 261.1c35.248 0 64.839-11.605 86.453-31.622l-41.196-31.913c-11.024 7.688-25.82 13.055-45.257 13.055-34.523 0-63.824-22.773-74.269-54.25l-1.531.13-40.298 31.187-.527 1.465C35.393 231.798 79.49 261.1 130.55 261.1" fill="#34A853"/><path d="M56.281 156.37c-2.756-8.123-4.351-16.827-4.351-25.82 0-8.994 1.595-17.697 4.206-25.82l-.073-1.73L15.26 71.312l-1.335.635C5.077 89.644 0 109.517 0 130.55s5.077 40.905 13.925 58.602l42.356-32.782" fill="#FBBC05"/><path d="M130.55 50.479c24.514 0 41.05 10.589 50.479 19.438l36.844-35.974C195.245 12.91 165.798 0 130.55 0 79.49 0 35.393 29.301 13.925 71.947l42.211 32.783c10.59-31.477 39.891-54.251 74.414-54.251" fill="#EB4335"/></svg></button>
          </div>
        </form>
      </div>
      <div class="photo popup js-popup-photo" data-action="true">
        <div class="popup__close js-close"><svg xmlns="http://www.w3.org/2000/svg" width="17" height="17">
    <path fill="#FFF" fill-rule="evenodd" d="M16.414 2L15 .586.37 15.215l1.415 1.414L16.414 2z"/>
    <path fill="#FFF" fill-rule="evenodd" d="M.586 2L2 .586l14.629 14.629-1.414 1.414L.586 2z"/>
</svg>

        </div>
        <h1 class="popup__title">Авторизация</h1>
        <p class="popup__text">Введите пожалуйста своё фио и ник для дальнейшей авторизации</p>
        <form class="form">
          <div class="form__btn _center">
            <button class="btn _uppercase _mt-40">ОТМЕНА</button>
          </div>
          <div class="form__btn _center">
            <button class="btn _uppercase _mt-40">СОХРАНИТЬ</button>
          </div>
        </form>
      </div>
      <div class="menu js-menu" data-action="true">
        <div class="menu__block">
          <div class="menu__ava js-change-ava"><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"
	 width="36.174px" height="36.174px" viewBox="0 0 36.174 36.174" style="enable-background:new 0 0 36.174 36.174;"
	 xml:space="preserve" fill="white">
<g>
	<path d="M23.921,20.528c0,3.217-2.617,5.834-5.834,5.834s-5.833-2.617-5.833-5.834s2.616-5.834,5.833-5.834
		S23.921,17.312,23.921,20.528z M36.174,12.244v16.57c0,2.209-1.791,4-4,4H4c-2.209,0-4-1.791-4-4v-16.57c0-2.209,1.791-4,4-4h4.92
		V6.86c0-1.933,1.566-3.5,3.5-3.5h11.334c1.934,0,3.5,1.567,3.5,3.5v1.383h4.92C34.383,8.244,36.174,10.035,36.174,12.244z
		 M26.921,20.528c0-4.871-3.963-8.834-8.834-8.834c-4.87,0-8.833,3.963-8.833,8.834s3.963,8.834,8.833,8.834
		C22.958,29.362,26.921,25.399,26.921,20.528z"/>
</g>
</svg>

          </div>
          <div class="menu__urer-name js-panel-userName"></div>
        </div>
        <div class="menu__block _hide"><img class="menu__ava" src="./img/ava2.jpg">
          <div class="menu__urer-name"></div>
        </div>
      </div>
      <aside class="chat__panel">
        <div class="chat__row">
          <button class="btn _menu js-menu-btn" data-action="true"><span></span><span></span><span></span></button>
          <input class="chat__search" placeholder="Найти...">
        </div>
        <div class="chat__users scroll" id="users">
          <script id="usersTemplate" type="text/x-handlebars-template">
            <div>
              {{#each listUsers}}
                  {{#if active}}
                      <div class="user _active">
                  {{else}}
                      <div class="user">
                  {{/if}}
              
                      {{#if avatar }}
                          <img src={{avatar}} class="user__ava" />
                           {{else}}
                          <span class="user__ava-name" title="{{name}}">{{name.[0]}}</span>
                      {{/if}}
              
                      <div class="user__block">
                          <div class="user__name">{{name}}</div>
                          {{#if lastMessage }}
                                  <div class="user__message">{{lastMessage}}</div>
                              {{else}}
                                   <div class="user__message"> lastMessage </div>
                          {{/if}}
                      </div>
              </div>
              {{/each}}
            </div>
          </script>
        </div>
      </aside>
      <div class="chat__content">
        <div class="chat__name">чат<span class="js-users-quantity">Участников:</span></div>
        <div class="chat__history scroll">
          <div id="results"></div>
          <script id="messagesTemplate" type="text/x-handlebars-template">
            <div>
              {{#each list}}
                  {{#if id}}
                      <div class="message _my">
                      {{else}}
                      <div class="message">
                  {{/if}}
              
                      {{#if ava }}
                          <img src={{ava}} class="message__ava" />
                          {{else}}
                          <span class="message__ava-name" title="{{name}}">{{name.[0]}}</span>
                      {{/if}}
              
                      <div class="message__block">
                      <div class="message__name">{{name}}</div>
                              {{#each messages}}
                                  <div class="message__text"> <div>{{{this.[0]}}} </div> <span>{{this.[1]}} </span></div>
                              {{/each}}
                      </div>
                  </div>
              {{/each}}
            </div>
          </script>
        </div>
        <!--+message('./img/ava.jpg', [
        //    {text: 'Привет!', time: '17:55'},
        //    {text: 'Как дела?', time: '17:55'}
        //], false)
        
        -->
        <form class="form chat__send js-form-send" data-action="true">
          <textarea class="scroll js-text" row="1" wrap="hard" placeholder="Введите сообщение..."></textarea><span class="chat__help">shift + enter</span>
          <button class="btn _size-small js-send"><span>Отправить</span><svg enable-background="new 0 0 24 24" height="512" viewBox="0 0 24 24" width="512" xmlns="http://www.w3.org/2000/svg"><path d="m8.75 17.612v4.638c0 .324.208.611.516.713.077.025.156.037.234.037.234 0 .46-.11.604-.306l2.713-3.692z"/><path d="m23.685.139c-.23-.163-.532-.185-.782-.054l-22.5 11.75c-.266.139-.423.423-.401.722.023.3.222.556.505.653l6.255 2.138 13.321-11.39-10.308 12.419 10.483 3.583c.078.026.16.04.242.04.136 0 .271-.037.39-.109.19-.116.319-.311.352-.53l2.75-18.5c.041-.28-.077-.558-.307-.722z"/></svg></button>
        </form>
      </div>
    </main>
  </body>
</html>